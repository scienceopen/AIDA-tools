<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of bad_pixel_fix</title>
  <meta name="keywords" content="bad_pixel_fix">
  <meta name="description" content="BAD_PIXEL_FIX - simple badpixel korrection function works on">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- menu.html Fits_tools -->
<h1>bad_pixel_fix
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>BAD_PIXEL_FIX - simple badpixel korrection function works on</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function Img = bad_pixel_fix(Img,bad_p_map) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> BAD_PIXEL_FIX - simple badpixel korrection function works on
 single lines and columns. (Ah, the power of indexing and sparse
 matrices!) After repeated passes larger blocks with badpixels are
 reduced but not completely corrected. BG 2001-08-27
   
 Calling:
 Img = bad_pixel_fix(Img,bad_p_map)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
<li><a href="pre_proc_img.html" class="code" title="function img_out = pre_proc_img(img_in,obs,PREPRO_OPS)">pre_proc_img</a>	PRE_PROC_IMG - systematic image correction and preprocessing of</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function Img = bad_pixel_fix(Img,bad_p_map)</a>
0002 <span class="comment">% BAD_PIXEL_FIX - simple badpixel korrection function works on</span>
0003 <span class="comment">% single lines and columns. (Ah, the power of indexing and sparse</span>
0004 <span class="comment">% matrices!) After repeated passes larger blocks with badpixels are</span>
0005 <span class="comment">% reduced but not completely corrected. BG 2001-08-27</span>
0006 <span class="comment">%</span>
0007 <span class="comment">% Calling:</span>
0008 <span class="comment">% Img = bad_pixel_fix(Img,bad_p_map)</span>
0009 
0010 <span class="comment">% how to create BAD_P_MAP from table.</span>
0011 
0012 
0013 <span class="comment">%   Copyright Â© 20100715 Bjorn Gustavsson, &lt;bjorn.gustavsson@irf.se&gt;</span>
0014 <span class="comment">%   This is free software, licensed under GNU GPL version 2 or later</span>
0015 
0016 Img = Img;
0017 
0018 bpmp = bad_p_map';
0019 bad_p_v = bpmp(:);
0020 i1 = find(bad_p_v);
0021 Img = Img';
0022 Img(i1) = Img(min(i1+1,length(Img(:))))/2+Img(max(i1-1,1))/2;
0023 Img = Img';
0024 
0025 bad_p_v = bad_p_map(:);
0026 i1 = find(bad_p_v);
0027 Img(i1) = Img(min(i1+1,length(Img(:))))/2+Img(max(i1-1,1))/2;</pre></div>
<hr><address>Generated on Sat 09-Feb-2013 12:20:36 by <strong>B.&nbsp;Gustavsson</strong> with <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>